
@using Metawision.Blog.Models;
@{
    ViewBag.Title = "article";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model int
@{
    var item = articleManager.getArticle(Model);
}

@if (item != null && item.state == 2) //'state منتشر شده باشه
{
    <h2>@item.title</h2>
    <p>@item.body</p>


    <hr />
    <sapan>@item.date.ToLongDateString() @item.date.ToLongTimeString()</sapan>
    <hr />
}

@{


    Html.RenderPartial("getComments", Model);
    <hr />
    Html.RenderPartial("showArticleAllComments", Model);
}



<ul class="pager">

    @{
        var nextid = articleManager.nextarticle(Model);
        if (nextid > 0)
        {
            var nextArticle = articleManager.getArticle(nextid);
            <li class="next"><a href="~/home/article/@nextArticle.Id" class="next"> @nextArticle.title </a></li>

            var previousid = articleManager.previousarticle(Model);
            if (previousid > 0)
            {
                var previousArticle = articleManager.getArticle(previousid);
                <li class="previous"><a href="~/home/article/@previousArticle.Id" class="previous"> @previousArticle.title </a></li>


            }

        }
    }

</ul>


